# Foundation VM Configuration
foundation_vm:
  ip: "<FOUNDATION_VM_IP>"

# Cluster Configuration
cluster:
  name: "<CLUSTER_NAME>"
  redundancy_factor: 2
  placement_policy_name: "rf3_adaptive"
  external_ip: "<CLUSTER_EXTERNAL_IP>"
  admin_username: "admin"
  admin_password: "<CLUSTER_ADMIN_PASSWORD>"


# Network Configuration
network:
  cvm:
    gateway: "<CVM_GATEWAY_IP>"
    netmask: "<CVM_NETMASK>"
    dns_servers: 
      - "8.8.8.8"
      - "<DNS_SERVER_2>"
    ntp_servers:
      - "0.pool.ntp.org"
  hypervisor:
    gateway: "<HYPERVISOR_GATEWAY_IP>"
    netmask: "<HYPERVISOR_NETMASK>"
    nameserver: "8.8.8.8"
    ntp_servers:
      - "0.pool.ntp.org"
  ipmi:
    gateway: "<IPMI_GATEWAY_IP>"
    netmask: "<IPMI_NETMASK>"


aos:
  package_filename: "nutanix_installer_package-release-ganges-7.3.0.6-stable-21464dfae0e9ddc46c24a8d14d99efa33cae7f5f-x86_64.tar.gz"

hypervisor:
  type: "kvm"  
  iso_filename: "<AHV_ISO_FILENAME>"
  password: "<HYPERVISOR_PASSWORD>" 
     

# Node Configuration
# Update with your actual node details
nodes:
  - node_position: "A"
    cvm_ip: "<NODE_A_CVM_IP>"
    cvm_boot_drive_source: "layout"
    hardware_attributes_override: {}
    hypervisor_ip: "<NODE_A_HYPERVISOR_IP>"
    hypervisor_hostname: "<NODE_A_HOSTNAME>"
    ipmi_ip: "<NODE_A_IPMI_IP>"
    ipmi_password: "<IPMI_PASSWORD>"
    is_bare_metal: true
    ipmi_user: "ADMIN"
    hypervisor: "kvm"
    image_now: true
    ipmi_configure_now: false
    vswitches:
      - name: "br0"
        bond-mode: "active-backup"
        uplinks: ["eth0", "eth1"]
        mtu: 1500
        lacp: "off"


ports_to_check_on_ipmi:
  - port: 80
    desc: "HTTP"
  - port: 443
    desc: "HTTPS"
  - port: 623
    desc: "IPMI virtual media mount"

ports_to_trace_to_cluster_network:
  - port: 22
    desc: "SSH (Host/CVM)"
  - port: 443
    desc: "HTTPS"
  - port: 2100
    desc: "Genesis (CVM)"
  - port: 8000
    desc: "Foundation API"

# Prism Central Configuration (for post-deployment registration)
prism_central_details:
  ip: "<PRISM_CENTRAL_IP>"
  username: "admin"
  password: "<PRISM_CENTRAL_PASSWORD>"
  ext_id: "<PRISM_CENTRAL_EXT_ID>"

validate_certs: false

ntp_servers:
  - fqdn:
      value: "pool.ntp.org"
  - fqdn:
      value: "time.google.com"

smtp_config:
  server: "smtp.company.com"
  port: 587
  username: "noreply@company.com"
  password: "smtp_password_here"
  from_email: "nutanix-alerts@company.com"
  enable_tls: true

dsip_config:
  ip_address: "<DATA_SERVICES_IP>"

cluster_categories:
  region: "us-west-1"
  environment: "production"
  team: "platform"
  cost_center: "engineering"


# Cluster External ID (set after cluster is deployed)
cluster_ext_id: "<CLUSTER_EXT_ID>"
